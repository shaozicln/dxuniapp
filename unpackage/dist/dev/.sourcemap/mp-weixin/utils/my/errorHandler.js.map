{"version":3,"file":"errorHandler.js","sources":["utils/my/errorHandler.js"],"sourcesContent":["// 错误处理工具\nexport const errorHandler = {\n  /**\n   * 处理用户信息初始化错误\n   * @param {Object} userInfo - 用户信息对象\n   * @param {Error} err - 错误对象\n   * @param {Function} navigateToLogin - 跳转到登录页的函数\n   */\n  handleUserInitError(userInfo, err, navigateToLogin) {\n    console.error('用户信息初始化异常：', err.message || err);\n    userInfo.identity = '未登录';\n    \n    uni.showToast({ \n      title: '身份加载失败，请重新登录', \n      icon: 'none', \n      duration: 3000,\n      mask: true\n    });\n\n    setTimeout(navigateToLogin, 3000);\n  },\n\n  /**\n   * 处理头像加载错误\n   * @param {Event} e - 事件对象\n   */\n  handleAvatarError(e) {\n    e.currentTarget.src = '/static/default-avatar.png';\n  }\n};\n"],"names":["uni"],"mappings":";;AACY,MAAC,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAO1B,oBAAoB,UAAU,KAAK,iBAAiB;AAClDA,wBAAc,MAAA,SAAA,kCAAA,cAAc,IAAI,WAAW,GAAG;AAC9C,aAAS,WAAW;AAEpBA,kBAAAA,MAAI,UAAU;AAAA,MACZ,OAAO;AAAA,MACP,MAAM;AAAA,MACN,UAAU;AAAA,MACV,MAAM;AAAA,IACZ,CAAK;AAED,eAAW,iBAAiB,GAAI;AAAA,EACjC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMD,kBAAkB,GAAG;AACnB,MAAE,cAAc,MAAM;AAAA,EACvB;AACH;;"}